<div
  th:fragment="post_cards"
  class="posts grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-2 xs:grid-cols-1 lg:gap-6 md:gap-4 sm:gap-3 mt-4 pagination-container"
  id="pageContainer"
>
  <div
    th:each="post,iterStat : ${postItems}"
    class="relative flex flex-col slide-up overflow-hidden rounded-lg w-full bg-base-100 shadow-xl mt-4"
  >
    <div
      th:if="${post.spec.pinned}"
      class="post-top w-24 h-24 overflow-hidden absolute"
    >
      <div
        class="shadow-lg text-center transform -rotate-45 relative py-1 px-0 top-3 -left-8 w-28 bg-red-600 text-gray-100"
      >
        置顶
      </div>
    </div>
    <figure class="flex items-center justify-center h-56 cursor-pointer">
      <a th:href="${post.status.permalink}" class="w-full">
        <img
          th:if="${not #strings.isEmpty(post.spec.cover)}"
          class="lazyload object-cover w-full h-56 no-zoom"
          th:src="@{/assets/images/loading.gif}"
          th:attr="data-src=${post.spec.cover}"
          th:alt="${post.spec.title}"
        />
        <img
          th:if="${#strings.isEmpty(post.spec.cover)} and ${not #strings.isEmpty(theme.config.genernal.card_random_cover_list)}"
          class="object-cover w-full h-56 img-random no-zoom"
          th:attr="index=${iterStat.index}"
          th:src="@{/assets/images/loading.gif}"
          th:alt="${post.spec.title}"
        />
        <span
          th:unless="${not #strings.isEmpty(post.spec.cover)} or ${not #strings.isEmpty(theme.config.genernal.card_random_cover_list)}"
          class="full-image placeholder-bg w-full h-56"
          role="img"
          aria-label=""
        ></span>
      </a>
    </figure>
    <div
      class="flex flex-col gap-2 px-4 py-6 bg-white dark:bg-gray-800"
      style="flex: 1 1 auto"
    >
      <div
        th:if="${theme.config.home_setting.post_card_tag}"
        class="text-sm h-5 overflow-hidden"
      >
        <th:block th:if="${not #lists.isEmpty(post.tags)}">
          <a
            th:each="tag : ${post.tags}"
            th:href="${tag.status.permalink}"
            th:title="${tag.spec.displayName}"
            class="relative inline-block badge"
          >
            <i
              class="bg-red-400 opacity-10 absolute top-0 left-0 w-full h-full"
              th:style="'background-color:'+${tag.spec.color} ? 'rgba(248,113,113,1)'"
            ></i>
            <span
              class="badge-outline text-red-400 h-5 px-2 py-0.5 rounded-sm cursor-pointer"
              th:style="'color:'+${tag.spec.color} ? 'rgba(248,113,113,1)'"
              th:attr="data-value=${tag.spec.displayName}"
              th:text="${tag.spec.displayName}"
            >
            </span>
          </a>
        </th:block>
      </div>
      <h2
        class="flex items-center gap-2 text-xl leading-7 <#if settings.post_card_tag>mb-2 mt-3 <#else> my-4 </#if>"
      >
        <a
          th:href="${post.status.permalink}"
          class="text-gray-800 dark:text-gray-300"
          th:text="${post.spec.title}"
        ></a>
      </h2>
      <div
        th:if="${theme.config.home_setting.post_card_meta_info}"
        class="grad grid-cols-2 text-sm"
      >
        <div class="inline-block text-gray-500">
          <span
            th:text="${#dates.format(post.spec.publishTime,'yyyy-MM-dd')}"
          ></span>
        </div>
        <div class="inline-block float-right">
          <span class="iconfont icon-see2 text-gray-500">
            <label>0</label>
          </span>
          <span class="iconfont icon-uqur text-gray-500">
            <label>0</label>
          </span>
          <span class="iconfont icon-like text-gray-500">
            <label>0</label>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
